type EvalContext @entity {
  id: ID!
  caller: Account!
  contract: Bytes!
  flowID: BigInt!
  signer: Account
  signedContext: [BigInt!]
}

type EvalEvent @entity {
  id: ID! #{transaction.hash + i'th_event}
  evalContext: EvalContext!
  transaction: Transaction!
  timestamp: BigInt!
  emitter: Account!
}

type Transaction @entity(immutable: true) {
  id: ID!
  timestamp: BigInt!
  blockNumber: BigInt!
  events: [Event!] @derivedFrom(field: "transaction")
}

type Account @entity {
  id: ID!
  "Events emitted by this account"
  events: [Event!]! @derivedFrom(field: "emitter")
}
